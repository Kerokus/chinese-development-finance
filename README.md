
# Chinese Loans Data Visualization Project

This project provides scripts to visualize Chinese loans data by generating bar charts, top recipients lists, and animated GIFs. The scripts filter and process data from a CSV file containing information on Chinese loans to various regions and produce visual outputs based on user-specified parameters. This source data comes from the Global Aid Data organization:
https://docs.aiddata.org/ad4/datasets/AidDatas_Global_Chinese_Development_Finance_Dataset_Version_3_0.zip

## Overview

### Scripts

1. **flow_type_by_region.py**
   - Generates a bar chart of the types of payments to countries within a specified region (e.g., "Loan", "Grant").
   - Allows customization of the region, year range, and whether the country names appear inside the bars.

2. **top_recipients_by_region.py**
   - Generates a bar chart of the top-N countries in a specified region who received Chinese loans from 2000 to 2021.
   - Allows customization of the region, top-N list size, and whether the country names appear inside the bars.

3. **generate_gif_frames.py**
   - Generates a series of single images (frames) of Chinese loans in a user-specified region to be used for creating an animated GIF.
   - Filters the dataset for the specified region, groups the data by recipient and year, and saves each frame as an image.

4. **build_gif.py**
   - Takes a directory of images generated from Plotly and stitches them together into a timeline GIF.
   - Creates an animated GIF from the frames generated by `generate_gif_frames.py`.

## Usage

### 1. flow_type_by_region.py

This script generates a bar chart showing the types of payments to countries within a specified region.

#### Example
\`\`\`sh
$ python flow_type_by_region.py
\`\`\`

### 2. top_recipients_by_region.py

This script generates a bar chart showing the top-N countries in a specified region who received Chinese loans from 2000 to 2021.

#### Example
\`\`\`sh
$ python top_recipients_by_region.py
\`\`\`

### 3. generate_gif_frames.py

This script generates a series of images to be used for creating an animated GIF of Chinese loans in a specified region.

#### Example
\`\`\`sh
$ python generate_gif_frames.py
\`\`\`

### 4. build_gif.py

This script takes the images generated by `generate_gif_frames.py` and stitches them together into a GIF.

#### Example
\`\`\`sh
$ python build_gif.py
\`\`\`

## Customization

### flow_type_by_region.py and top_recipients_by_region.py

Both scripts allow customization through global variables set in the `initialize` function:
- `df_selected_columns`: List of columns to be used from the dataset.
- `selected_region`: Region to filter the data (options: 'africa', 'america', 'asia', 'europe').
- `output_chart_title`: Title of the generated chart.
- `words_in_bar`: Boolean indicating whether to show country names inside the bars.
- `selected_year`: Year to filter the data. Set to `None` to use the full range from 2000 to 2021.
- `top_n` (only in `top_recipients_by_region.py`): Number of top recipients to display.

### generate_gif_frames.py

This script allows customization through the following global variables:
- `input_dataset`: Path to the input dataset CSV file.
- `output_directory`: Directory to save the generated images.
- `df_selected_columns`: List of columns to be used from the dataset.
- `selected_region`: Region to filter the data (options: 'africa', 'america', 'asia', 'europe').
- `output_map_scope`: Scope of the map to be displayed (options: 'africa', 'asia', 'europe', 'north america', 'south america', 'usa', 'world').
- `output_map_title`: Title of the generated map.

### build_gif.py

This script allows customization through the following global variables:
- `input_directory`: Directory containing the input images.
- `output_directory`: Directory to save the generated GIF.
- `output_filename`: Filename of the generated GIF.

## Requirements

- Python 3.x
- pandas
- matplotlib
- plotly
- imageio

## Installation

Install the required Python packages using pip:
\`\`\`sh
pip install pandas matplotlib plotly imageio
\`\`\`

## License

This project is licensed under the MIT License.
